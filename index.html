<!DOCTYPE html>
<html lang="de" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Musik-Plattform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { 
            -webkit-font-smoothing: antialiased; 
            -moz-osx-font-smoothing: grayscale;
            background: #0f172a;
        }
        .glass-pane {
            background-color: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        .text-shadow {
            text-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body class="text-white">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, createContext, useContext } = React;

        // Mock Data
        const mockData = {
            keyKpis: [
                { platform: 'Instagram', kpi: 'Follower insgesamt', value: '48.152', change: 1.2 },
                { platform: 'Spotify', kpi: 'Monatliche Hörer', value: '1.2M', change: 5.3 },
                { platform: 'Google Analytics 4', kpi: 'Nutzer (letzte 7 Tage)', value: '12.830', change: -2.1 }
            ],
            activities: [
                { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
                { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
                { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
                { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
            ]
        };

        // Auth Context
        const AuthContext = createContext(null);
        const AuthProvider = ({ children }) => {
            const [user] = useState({
                uid: 'demo-user-123',
                email: 'demo@example.com',
                displayName: 'Demo Benutzer',
                photoURL: null
            });
            return <AuthContext.Provider value={{ user }}>{children}</AuthContext.Provider>;
        };
        const useAuth = () => useContext(AuthContext);

        // Icon Component
        const Icon = ({ name, className = "w-6 h-6" }) => {
            const icons = {
                menu: "M4 6h16M4 12h16M4 18h16",
                bell: "M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 0 1-3.46 0",
                user: "M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 3a4 4 0 1 0 0 8 4 4 0 0 0 0-8z",
                barChart: "M12 20V10M18 20V4M6 20v-6",
                briefcase: "M20 7H4a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1z",
                zap: "M13 2L3 14h9l-1 8 10-12h-9l1-8z",
                bookOpen: "M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",
                messageSquare: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",
                award: "M12 15l-8-5 8-5 8 5-8 5z",
                shieldCheck: "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",
                plus: "M12 2v20M2 12h20",
                trendingUp: "M23 6l-9.5 9.5-5-5L1 18"
            };
            return (
                <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d={icons[name]} />
                </svg>
            );
        };

        // Page Wrapper
        const PageWrapper = ({ children }) => (
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">{children}</div>
        );

        // Dashboard Component
        const MainDashboard = ({ setActivePage, activities, complyCheckScore }) => (
            <PageWrapper>
                <div className="mb-8">
                    <h1 className="text-3xl font-bold text-shadow mb-2">Dashboard</h1>
                    <p className="text-gray-300 text-shadow">Willkommen zurück! Hier ist deine Übersicht.</p>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    {mockData.keyKpis.map((kpi, index) => (
                        <div key={index} className="glass-pane p-6 rounded-2xl">
                            <h3 className="text-lg font-semibold text-white mb-2">{kpi.platform}</h3>
                            <p className="text-sm text-gray-300 mb-2">{kpi.kpi}</p>
                            <p className="text-3xl font-bold text-white">{kpi.value}</p>
                            <p className={`text-sm font-semibold ${kpi.change >= 0 ? 'text-green-400' : 'text-red-400'}`}>
                                {kpi.change >= 0 ? '▲' : '▼'} {kpi.change}%
                            </p>
                        </div>
                    ))}
                </div>
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div className="glass-pane p-6 rounded-2xl">
                        <h2 className="text-xl font-bold mb-4 text-shadow">Letzte Aktivitäten</h2>
                        <div className="space-y-3">
                            {mockData.activities.map(activity => (
                                <div key={activity.id} className="flex items-center gap-3 p-3 bg-white/5 rounded-lg">
                                    <div className="w-2 h-2 bg-blue-400 rounded-full"></div>
                                    <div className="flex-grow">
                                        <p className="text-sm font-medium text-shadow">{activity.text}</p>
                                        <p className="text-xs text-gray-400">{activity.project} • {activity.time}</p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    <div className="glass-pane p-6 rounded-2xl">
                        <h2 className="text-xl font-bold mb-4 text-shadow">Quick Actions</h2>
                        <div className="space-y-3">
                            <button onClick={() => setActivePage('projects')} className="w-full p-3 bg-blue-500 text-white rounded-lg text-left flex items-center gap-3">
                                <Icon name="plus" className="w-5 h-5" />Neues Projekt erstellen
                            </button>
                            <button onClick={() => setActivePage('analytics')} className="w-full p-3 bg-white/10 text-white rounded-lg text-left flex items-center gap-3">
                                <Icon name="trendingUp" className="w-5 h-5" />Analytics anzeigen
                            </button>
                            <button onClick={() => setActivePage('comply')} className="w-full p-3 bg-white/10 text-white rounded-lg text-left flex items-center gap-3">
                                <Icon name="shieldCheck" className="w-5 h-5" />DSGVO-Check ({complyCheckScore})
                            </button>
                        </div>
                    </div>
                </div>
            </PageWrapper>
        );

        // Navigation Component
        const Navigation = ({ activePage, setActivePage, user }) => {
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
            const navItems = [
                { id: 'dashboard', name: 'Dashboard', icon: 'barChart' },
                { id: 'projects', name: 'Projekte', icon: 'briefcase' },
                { id: 'analytics', name: 'Analytics', icon: 'zap' },
                { id: 'library', name: 'Library', icon: 'bookOpen' },
                { id: 'support', name: 'Support', icon: 'messageSquare' },
                { id: 'learningcenter', name: 'Learning', icon: 'award' },
                { id: 'comply', name: 'Comply', icon: 'shieldCheck' },
                { id: 'profile', name: 'Profil', icon: 'user' }
            ];

            return (
                <nav className="glass-pane sticky top-0 z-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex justify-between items-center h-16">
                            <div className="flex items-center">
                                <span className="text-xl font-bold text-shadow">🎵 Musik-Plattform</span>
                            </div>
                            <div className="hidden md:block">
                                <div className="ml-10 flex items-baseline space-x-4">
                                    {navItems.map((item) => (
                                        <button key={item.id} onClick={() => setActivePage(item.id)} className={`px-3 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${activePage === item.id ? 'bg-white/20 text-white' : 'text-gray-300 hover:bg-white/10 hover:text-white'}`}>
                                            <Icon name={item.icon} className="w-4 h-4" />{item.name}
                                        </button>
                                    ))}
                                </div>
                            </div>
                            <div className="flex items-center gap-4">
                                <button className="relative text-gray-300 hover:text-white">
                                    <Icon name="bell" className="w-6 h-6" />
                                    <span className="absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500"></span>
                                </button>
                                <div className="flex items-center gap-2">
                                    <div className="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center">
                                        {user?.displayName?.charAt(0) || 'U'}
                                    </div>
                                    <span className="hidden sm:block">{user?.displayName || 'User'}</span>
                                </div>
                                <button onClick={() => setMobileMenuOpen(!mobileMenuOpen)} className="md:hidden text-gray-300 hover:text-white">
                                    <Icon name="menu" className="w-6 h-6" />
                                </button>
                            </div>
                        </div>
                        {mobileMenuOpen && (
                            <div className="md:hidden">
                                <div className="px-2 pt-2 pb-3 space-y-1 glass-pane rounded-lg mt-2">
                                    {navItems.map((item) => (
                                        <button key={item.id} onClick={() => { setActivePage(item.id); setMobileMenuOpen(false); }} className={`block px-3 py-2 rounded-md text-base font-medium w-full text-left flex items-center gap-2 ${activePage === item.id ? 'bg-white/20 text-white' : 'text-gray-300 hover:bg-white/10 hover:text-white'}`}>
                                            <Icon name={item.icon} className="w-4 h-4" />{item.name}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>
                </nav>
            );
        };

        // Placeholder Components
        const ProjectsPage = () => (
            <PageWrapper>
                <h1 className="text-3xl font-bold text-shadow mb-8">Projekte</h1>
                <div className="glass-pane p-8 rounded-2xl text-center">
                    <h2 className="text-xl font-bold mb-4">Projekte-Verwaltung</h2>
                    <p className="text-gray-300">Hier können Sie Ihre Musikprojekte verwalten.</p>
                </div>
            </PageWrapper>
        );

        const AnalyticsPage = () => (
            <PageWrapper>
                <h1 className="text-3xl font-bold text-shadow mb-8">Analytics</h1>
                <div className="glass-pane p-8 rounded-2xl text-center">
                    <h2 className="text-xl font-bold mb-4">Analytics Dashboard</h2>
                    <p className="text-gray-300">Hier sehen Sie Ihre Musik-Analytics.</p>
                </div>
            </PageWrapper>
        );

        const LibraryPage = () => (
            <PageWrapper>
                <h1 className="text-3xl font-bold text-shadow mb-8">Smart Library</h1>
                <div className="glass-pane p-8 rounded-2xl text-center">
                    <h2 className="text-xl font-bold mb-4">Vorlagen & Ressourcen</h2>
                    <p className="text-gray-300">Hier finden Sie Verträge und Vorlagen.</p>
                </div>
            </PageWrapper>
        );

        const SupportPage = () => (
            <PageWrapper>
                <h1 className="text-3xl font-bold text-shadow mb-8">Support Hub</h1>
                <div className="glass-pane p-8 rounded-2xl text-center">
                    <h2 className="text-xl font-bold mb-4">Hilfe & Support</h2>
                    <p className="text-gray-300">Hier finden Sie Hilfe und können Fragen stellen.</p>
                </div>
            </PageWrapper>
        );

        const LearningPage = () => (
            <PageWrapper>
                <h1 className="text-3xl font-bold text-shadow mb-8">Learning Center</h1>
                <div className="glass-pane p-8 rounded-2xl text-center">
                    <h2 className="text-xl font-bold mb-4">Lernpfade</h2>
                    <p className="text-gray-300">Hier können Sie Ihr Wissen erweitern.</p>
                </div>
            </PageWrapper>
        );

        const ComplyPage = ({ complyCheckScore, setComplyCheckScore }) => (
            <PageWrapper>
                <h1 className="text-3xl font-bold text-shadow mb-8">ComplyCheck</h1>
                <div className="glass-pane p-8 rounded-2xl text-center">
                    <h2 className="text-xl font-bold mb-4">DSGVO Compliance</h2>
                    <p className="text-gray-300 mb-4">Aktueller Score: {complyCheckScore}</p>
                    <button onClick={() => setComplyCheckScore('3 / 3')} className="bg-blue-500 text-white px-4 py-2 rounded-lg">Test durchführen</button>
                </div>
            </PageWrapper>
        );

        const ProfilePage = () => {
            const { user } = useAuth();
            return (
                <PageWrapper>
                    <h1 className="text-3xl font-bold text-shadow mb-8">Profil</h1>
                    <div className="glass-pane p-8 rounded-2xl">
                        <h2 className="text-xl font-bold mb-4">Benutzerinformationen</h2>
                        <div className="space-y-4">
                            <div><label className="block text-sm font-medium text-gray-300 mb-2">Name</label><p className="text-white">{user?.displayName}</p></div>
                            <div><label className="block text-sm font-medium text-gray-300 mb-2">E-Mail</label><p className="text-white">{user?.email}</p></div>
                        </div>
                    </div>
                </PageWrapper>
            );
        };

        // Main App Component
        const MainApp = () => {
            const { user } = useAuth();
            const [activePage, setActivePage] = useState('dashboard');
            const [complyCheckScore, setComplyCheckScore] = useState('0 / 3');

            const renderPage = () => {
                switch (activePage) {
                    case 'projects': return <ProjectsPage />;
                    case 'analytics': return <AnalyticsPage />;
                    case 'library': return <LibraryPage />;
                    case 'support': return <SupportPage />;
                    case 'learningcenter': return <LearningPage />;
                    case 'comply': return <ComplyPage complyCheckScore={complyCheckScore} setComplyCheckScore={setComplyCheckScore} />;
                    case 'profile': return <ProfilePage />;
                    default: return <MainDashboard setActivePage={setActivePage} activities={mockData.activities} complyCheckScore={complyCheckScore} />;
                }
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-900">
                    <Navigation activePage={activePage} setActivePage={setActivePage} user={user} />
                    <main>{renderPage()}</main>
                </div>
            );
        };

        // App Component
        const App = () => (
            <AuthProvider>
                <MainApp />
            </AuthProvider>
        );

        // Render App
        ReactDOM.render(<App />, document.getElementById('root'));
        console.log('🚀 Musik-Plattform successfully loaded!');
        // Initialize security measures
        useEffect(() => {
            preventDataLeakage();
        }, []);
    </script>
    
    <!-- Multi-Character-Sanitization Security Library -->
    <script>
        // Fallback Multi-Character Sanitizer für Demo-Zwecke
        window.multiCharacterSanitizer = {
            sanitize: function(input, options = {}) {
                if (!input || typeof input !== 'string') return '';
                const maxLength = options.maxLength || 10000;
                let sanitized = input.slice(0, maxLength);
                
                if (!options.allowHtml) {
                    sanitized = sanitized
                        .replace(/</g, '&lt;')
                        .replace(/>/g, '&gt;')
                        .replace(/"/g, '&quot;')
                        .replace(/'/g, '&#x27;')
                        .replace(/&/g, '&amp;');
                }
                
                return sanitized;
            },
            
            validateUrl: function(url, options = {}) {
                if (!url || typeof url !== 'string') throw new Error('Invalid URL');
                
                const maxLength = options.maxLength || 2048;
                if (url.length > maxLength) throw new Error('URL too long');
                
                try {
                    const urlObj = new URL(url);
                    const allowedSchemes = options.allowedSchemes || ['http:', 'https:', 'mailto:', 'tel:'];
                    
                    if (!allowedSchemes.includes(urlObj.protocol)) {
                        throw new Error(`URL scheme '${urlObj.protocol}' not allowed`);
                    }
                    
                    return urlObj.toString();
                } catch (error) {
                    throw new Error('Invalid URL format');
                }
            },
            
            validateEmail: function(email) {
                if (!email || typeof email !== 'string') throw new Error('Invalid email');
                
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    throw new Error('Invalid email format');
                }
                
                return email;
            }
        };
        
        console.log('✅ Multi-Character Sanitizer fallback loaded');
    </script>
    
    <style>
        body { 
            -webkit-font-smoothing: antialiased; 
            -moz-osx-font-smoothing: grayscale;
            background: #0f172a; /* Fallback background */
        }
        .text-shadow {
            text-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        .glass-pane {
            background-color: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
    </style>
</head>
<body class="text-white">
    <div id="root"></div>
    <script type="text/babel">
        // React Hooks und Context
        // REMOVE duplicate destructuring of useState, useEffect, etc.
        const { useMemo, useRef, createContext, useContext } = React;

        // --- Error Boundary für kritische Fehler ---
        class ErrorBoundary extends React.Component {
            constructor(props) {
                super(props);
                this.state = { hasError: false, error: null };
            }

            static getDerivedStateFromError(error) {
                return { hasError: true, error };
            }

            componentDidCatch(error, errorInfo) {
                console.error('🚨 Critical React Error:', error, errorInfo);
                
                // Emergency redirect nach 5 Sekunden
                setTimeout(() => {
                    if (confirm('Die Anwendung ist abgestürzt. Zur Notfall-Version wechseln?')) {
                        // Versuche erst Backend zu starten
                        console.log('🔄 Versuche Backend-Start...');
                        
                        fetch('/api/health')
                            .then(response => {
                                if (response.ok) {
                                    console.log('✅ Backend ist verfügbar - Seite neu laden');
                                    window.location.reload();
                                } else {
                                    console.log('⚠️ Backend nicht verfügbar - Demo-Modus beibehalten');
                                    window.location.href = 'demo.html';
                                }
                            })
                            .catch(() => {
                                console.log('❌ Backend-Verbindung fehlgeschlagen - Demo-Modus');
                                window.location.href = 'demo.html';
                            });
                    }
                }, 5000);
            }

            render() {
                if (this.state.hasError) {
                    return (
                        <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-900 p-4">
                            <div className="glass-pane p-8 rounded-2xl text-center max-w-md">
                                <div className="text-red-400 mb-4">
                                    <svg className="w-16 h-16 mx-auto" fill="currentColor" viewBox="0 0 20 20">
                                        <path fillRule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clipRule="evenodd" />
                                    </svg>
                                </div>
                                <h2 className="text-2xl font-bold text-white mb-4">Anwendungsfehler</h2>
                                <p className="text-gray-300 mb-6">
                                    Die Anwendung ist unerwartet abgestürzt. 
                                    Sie werden automatisch zur Notfall-Version weitergeleitet.
                                </p>
                                <div className="space-y-2">
                                    <button 
                                        onClick={() => window.location.href = 'demo.html'}
                                        className="w-full bg-blue-500 text-white py-2 px-4 rounded-lg font-bold mb-2"
                                    >
                                        Demo-Version öffnen
                                    </button>
                                    <button 
                                        onClick={() => window.location.reload()}
                                        className="w-full bg-gray-500 text-white py-2 px-4 rounded-lg font-bold"
                                    >
                                        Seite neu laden
                                    </button>
                                </div>
                            </div>
                        </div>
                    );
                }

                return this.props.children;
            }
        }

        // --- Auth Context für die Benutzerauthentifizierung ---
        const AuthContext = createContext(null);

        const AuthProvider = ({ children }) => {
            const [user, setUser] = useState(null);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);

            useEffect(() => {
                let mounted = true;
                let unsubscribeAuth = null;
                
                const initializeAuth = async () => {
                    try {
                        // Warte maximal 15 Sekunden auf Firebase
                        const timeoutPromise = new Promise((_, reject) => {
                            setTimeout(() => reject(new Error('Firebase initialization timeout')), 15000);
                        });
                        
                        const firebasePromise = new Promise((resolve) => {
                            const checkFirebase = () => {
                                if (window.firebase && window.firebase.auth) {
                                    console.log('✅ Firebase Auth verfügbar');
                                    resolve(window.firebase);
                                } else {
                                    // Prüfe alle 100ms für max 15 Sekunden
                                    setTimeout(checkFirebase, 100);
                                }
                            };
                            checkFirebase();
                        });
                        
                        // Race zwischen Firebase-Init und Timeout
                        const firebase = await Promise.race([firebasePromise, timeoutPromise]);
                        
                        if (!mounted) return;
                        
                        // Firebase Auth State Listener
                        unsubscribeAuth = firebase.onAuthStateChanged(firebase.auth, (user) => {
                            if (mounted) {
                                console.log('🔐 Auth State Changed:', user ? 'Logged in' : 'Logged out');
                                setUser(user);
                                setLoading(false);
                                setError(null);
                            }
                        });
                        
                    } catch (error) {
                        console.warn('⚠️ Auth initialization failed:', error.message);
                        if (mounted) {
                            setError(error.message);
                            setLoading(false);
                            // Fortfahren ohne Auth - App soll trotzdem laden
                        }
                    }
                };
                
                // Starte Auth-Initialisierung
                initializeAuth();
                
                // Fallback: Lade App nach 20 Sekunden auf jeden Fall
                const fallbackTimeout = setTimeout(() => {
                    if (mounted && loading) {
                        console.warn('🚨 Auth loading timeout - continuing without auth');
                        setLoading(false);
                        setError('Authentication timeout - continuing in demo mode');
                    }
                }, 20000);
                
                return () => {
                    mounted = false;
                    clearTimeout(fallbackTimeout);
                    if (unsubscribeAuth && typeof unsubscribeAuth === 'function') {
                        unsubscribeAuth();
                    }
                };
            }, []); // Leeres Dependency-Array verhindert Endlos-Schleifen

            const value = { user, setUser, error };

            if (loading) {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-900">
                        <div className="glass-pane p-8 rounded-2xl text-center max-w-md">
                            <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"></div>
                            <p className="text-white text-lg font-semibold mb-3">Musik-Plattform wird geladen...</p>
                            <p className="text-gray-300 text-sm">
                                {error ? (
                                    <>⚠️ {error}</>
                                ) : (
                                    <>🔄 Verbinde mit Backend...</>
                                )}
                            </p>
                            
                            <div className="mt-6 space-y-2">
                                <button 
                                    onClick={() => {
                                        console.log('🎭 Benutzer wechselt zum Demo-Modus');
                                        setLoading(false);
                                        setError('Demo-Modus aktiviert - Backend nicht verfügbar');
                                        if (typeof initializeDemoMode === 'function') {
                                            initializeDemoMode();
                                        }
                                    }}
                                    className="w-full bg-blue-500/80 text-white py-2 px-4 rounded-lg text-sm hover:bg-blue-500 transition"
                                >
                                    🎭 Im Demo-Modus fortfahren
                                </button>
                                
                                <div className="text-xs text-gray-400 mt-2">
                                    💡 Backend starten: <code>npm install && npm start</code>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <AuthContext.Provider value={value}>
                    {children}
                </AuthContext.Provider>
            );
        };

        const useAuth = () => {
            return useContext(AuthContext);
        };
        
        // --- Sichere Link-Komponente mit Multi-Character-Validierung ---
        const SecureLink = ({ href, children, target, rel, className, ...props }) => {
            const [isValidUrl, setIsValidUrl] = useState(false);
            const [sanitizedHref, setSanitizedHref] = useState('#');

            useEffect(() => {
                if (!href) {
                    setIsValidUrl(false);
                    setSanitizedHref('#');
                    return;
                }

                try {
                    // Multi-Character-sichere URL-Validierung
                    let validatedUrl;
                    
                    if (window.multiCharacterSanitizer) {
                        validatedUrl = window.multiCharacterSanitizer.validateUrl(href, {
                            allowRelative: false,
                            requireHttps: false,
                            maxLength: 2048,
                            allowedSchemes: ['http:', 'https:', 'mailto:', 'tel:', 'ftp:', 'ftps:']
                        });
                    } else {
                        // Fallback-Validierung
                        const urlObj = new URL(href);
                        const allowedSchemes = ['http:', 'https:', 'mailto:', 'tel:', 'ftp:', 'ftps:'];
                        
                        if (!allowedSchemes.includes(urlObj.protocol)) {
                            throw new Error(`URL-Schema '${urlObj.protocol}' ist nicht erlaubt`);
                        }
                        
                        validatedUrl = urlObj.toString();
                    }
                    
                    setSanitizedHref(validatedUrl);
                    setIsValidUrl(true);
                    
                } catch (error) {
                    console.warn('🔒 Invalid or unsafe URL detected:', href, error.message);
                    setIsValidUrl(false);
                    setSanitizedHref('#');
                }
            }, [href]);

            // Falls URL ungültig ist, zeige Text ohne Link
            if (!isValidUrl) {
                return (
                    <span className={className} title="Link wurde aus Sicherheitsgründen deaktiviert">
                        {children}
                    </span>
                );
            }

            // Sichere Link-Attribute
            const secureProps = {
                ...props,
                href: sanitizedHref,
                target: target || '_blank',
                rel: rel || 'noopener noreferrer nofollow',
                className: className
            };

            return <a {...secureProps}>{children}</a>;
        };
        const safeHtmlInputHandler = (event) => {
            const target = event.target;
            const rawValue = target.value;
            
            // Multi-Character-sichere Sanitization verwenden
            if (window.multiCharacterSanitizer) {
                try {
                    const sanitizedValue = window.multiCharacterSanitizer.sanitize(rawValue, {
                        maxLength: target.maxLength || 10000,
                        allowHtml: target.dataset.allowHtml === 'true'
                    });
                    
                    // Nur bei Änderungen aktualisieren (verhindert Cursor-Jumping)
                    if (sanitizedValue !== rawValue) {
                        const selectionStart = target.selectionStart;
                        const selectionEnd = target.selectionEnd;
                        
                        target.value = sanitizedValue;
                        
                        // Cursor-Position wiederherstellen
                        const lengthDiff = rawValue.length - sanitizedValue.length;
                        target.setSelectionRange(
                            Math.max(0, selectionStart - lengthDiff),
                            Math.max(0, selectionEnd - lengthDiff)
                        );
                        
                        // Warnung bei blockiertem Inhalt
                        if (lengthDiff > 0) {
                            console.warn('🔒 Potentiell gefährlicher Inhalt wurde entfernt');
                            
                            // Visual feedback für User
                            target.style.borderColor = '#f59e0b';
                            setTimeout(() => {
                                target.style.borderColor = '';
                            }, 2000);
                        }
                    }
                } catch (error) {
                    console.error('Sanitization error:', error);
                    // Fallback: Entferne nur die gefährlichsten Zeichen
                    target.value = rawValue.replace(/[<>'"]/g, '');
                }
            } else {
                // Fallback ohne Multi-Character-Library
                console.warn('Multi-Character-Sanitizer nicht verfügbar, verwende Basic-Sanitization');
                target.value = rawValue
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;')
                    .replace(/"/g, '&quot;')
                    .replace(/'/g, '&#x27;');
            }
        };

        // Data-Loss-Prevention mit Multi-Character-sicherer Sanitization  
        const preventDataLeakage = () => {
            // Überwache Copy-Paste-Operationen bei sensiblen Feldern
            document.addEventListener('paste', (event) => {
                const target = event.target;
                if (target.type === 'password' || target.dataset.sensitive === 'true') {
                    const clipboardData = event.clipboardData.getData('text');
                    
                    // Multi-Character-sichere Sanitization
                    const sanitizedData = window.multiCharacterSanitizer ? 
                        window.multiCharacterSanitizer.sanitize(clipboardData, { maxLength: 1000 }) : 
                        clipboardData;
                    
                    // Prüfe auf verdächtige Inhalte mit sicheren Patterns
                    const suspiciousPatterns = [
                        /password[\s\u00A0]{0,10}[:=][\s\u00A0]{0,10}[\w]{1,50}/i,
                        /token[\s\u00A0]{0,10}[:=][\s\u00A0]{0,10}[\w]{1,50}/i,
                        /api[_-]?key[\s\u00A0]{0,10}[:=][\s\u00A0]{0,10}[\w]{1,50}/i,
                        /secret[\s\u00A0]{0,10}[:=][\s\u00A0]{0,10}[\w]{1,50}/i,
                        /private[\s\u00A0]{0,10}[:=][\s\u00A0]{0,10}[\w]{1,50}/i
                    ];
                    
                    // Multi-Character-Bypass-sichere Prüfung
                    const isSuspicious = suspiciousPatterns.some(pattern => {
                        try {
                            // Timeout-geschützte Pattern-Prüfung
                            const startTime = performance.now();
                            const result = pattern.test(sanitizedData);
                            const duration = performance.now() - startTime;
                            
                            if (duration > 50) { // 50ms Timeout
                                console.warn('Slow pattern detected, blocking for safety');
                                return true; // Bei langsamen Patterns blockieren
                            }
                            
                            return result;
                        } catch (error) {
                            console.error('Pattern test error:', error);
                            return true; // Bei Fehlern sicherheitshalber blockieren
                        }
                    });
                    
                    if (isSuspicious) {
                        event.preventDefault();
                        console.warn('🚨 Suspicious data paste blocked (Multi-Character-protected)');
                        alert('Aus Sicherheitsgründen wurde das Einfügen blockiert.');
                    }
                }
            });
            
            // Input-Event-Listener für alle Text-Inputs
            document.addEventListener('input', safeHtmlInputHandler);
            
            // Form-Submit-Sanitization
            document.addEventListener('submit', (event) => {
                const form = event.target;
                if (form.tagName === 'FORM') {
                    const inputs = form.querySelectorAll('input[type="text"], input[type="email"], textarea');
                    
                    inputs.forEach(input => {
                        if (window.multiCharacterSanitizer) {
                            try {
                                input.value = window.multiCharacterSanitizer.sanitize(input.value, {
                                    maxLength: input.maxLength || 10000,
                                    allowHtml: input.dataset.allowHtml === 'true'
                                });
                            } catch (error) {
                                console.error('Form sanitization error:', error);
                                // Fallback
                                input.value = input.value.replace(/[<>'"]/g, '');
                            }
                        }
                    });
                }
            });
        };

        // Sichere Formular-Validierung mit Multi-Character-Sanitization
        const validateForm = (formData, rules) => {
            const errors = {};
            const maxProcessingTime = 50; // 50ms max per regex
            
            Object.keys(rules).forEach(field => {
                const value = formData[field];
                const rule = rules[field];
                
                // Required-Validierung
                if (rule.required && (!value || value.trim() === '')) {
                    errors[field] = `${field} ist erforderlich`;
                    return;
                }
                
                if (value) {
                    // Multi-Pass-Sanitization für komplette Sicherheit
                    let sanitizedValue = value;
                    
                    if (window.multiCharacterSanitizer) {
                        try {
                            sanitizedValue = window.multiCharacterSanitizer.sanitize(value, {
                                maxLength: rule.maxLength || 10000,
                                allowHtml: false
                            });
                        } catch (error) {
                            console.error('Validation sanitization error:', error);
                            sanitizedValue = value.replace(/[<>'"]/g, ''); // Fallback
                        }
                    }
                    
                    // Längenbegrenzung NACH Sanitization (verhindert Bypass durch Expansion)
                    if (sanitizedValue.length > 10000) {
                        errors[field] = `${field} ist zu lang für die Verarbeitung`;
                        return;
                    }
                    
                    // Längen-Validierung mit sanitized value
                    if (rule.maxLength && sanitizedValue.length > rule.maxLength) {
                        errors[field] = `${field} ist zu lang (max. ${rule.maxLength} Zeichen)`;
                        return;
                    }
                    
                    if (rule.minLength && sanitizedValue.length < rule.minLength) {
                        errors[field] = `${field} ist zu kurz (min. ${rule.minLength} Zeichen)`;
                        return;
                    }
                    
                    // E-Mail-Validierung (Multi-Character-sicher)
                    if (rule.type === 'email') {
                        try {
                            const validatedEmail = window.multiCharacterSanitizer ? 
                                window.multiCharacterSanitizer.validateEmail(sanitizedValue) : 
                                sanitizedValue;
                            
                            // Zusätzliche Längenbegrenzung
                            if (validatedEmail.length > 254) {
                                errors[field] = 'E-Mail-Adresse ist zu lang';
                                return;
                            }
                        } catch (error) {
                            errors[field] = error.message || 'Ungültige E-Mail-Adresse';
                            return;
                        }
                    }
                    
                    // URL-Validierung (Multi-Character-sicher mit vollständiger Schema-Prüfung)
                    if (rule.type === 'url') {
                        try {
                            // Verwende die erweiterte sichere URL-Validierung
                            const validatedUrl = window.multiCharacterSanitizer ? 
                                window.multiCharacterSanitizer.validateUrl(sanitizedValue, {
                                    allowRelative: rule.allowRelative !== false,
                                    requireHttps: rule.requireHttps === true,
                                    maxLength: rule.maxLength || 2048,
                                    allowedDomains: rule.allowedDomains,
                                    blockedDomains: rule.blockedDomains
                                }) : 
                                (() => {
                                    // Fallback mit Basic-URL-Validierung
                                    const urlObj = new URL(sanitizedValue);
                                    
                                    // Basis-Schema-Prüfung als Fallback
                                    const allowedSchemes = ['http:', 'https:', 'ftp:', 'ftps:', 'mailto:', 'tel:', 'sms:'];
                                    if (!allowedSchemes.includes(urlObj.protocol)) {
                                        throw new Error(`URL-Schema '${urlObj.protocol}' ist nicht erlaubt`);
                                    }
                                    
                                    return urlObj.toString();
                                })();
                            
                            // Zusätzliche Längenbegrenzung nach Validierung
                            if (typeof validatedUrl === 'string' && validatedUrl.length > (rule.maxLength || 2048)) {
                                errors[field] = `URL ist zu lang (max. ${rule.maxLength || 2048} Zeichen)`;
                                return;
                            }
                            
                        } catch (error) {
                            errors[field] = error.message || 'Ungültige URL oder unsicheres Schema';
                            return;
                        }
                    }
                    
                    // Pattern-Validierung mit Multi-Character-Timeout-Schutz
                    if (rule.pattern) {
                        const startTime = performance.now();
                        try {
                            // Pre-sanitization für Pattern-Tests
                            const testValue = sanitizedValue.substring(0, 500); // Länge begrenzen
                            
                            const matches = rule.pattern.test(testValue);
                            const duration = performance.now() - startTime;
                            
                            if (duration > maxProcessingTime) {
                                console.warn(`Slow regex detected: ${rule.pattern} took ${duration}ms`);
                                errors[field] = 'Validierung zu langsam - bitte Eingabe überprüfen';
                                return;
                            }
                            
                            if (!matches) {
                                errors[field] = rule.message || `${field} hat ein ungültiges Format`;
                            }
                        } catch (error) {
                            console.error('Regex error:', error);
                            errors[field] = 'Validierungsfehler - bitte Eingabe überprüfen';
                        }
                    }
                }
            });
            
            return {
                isValid: Object.keys(errors).length === 0,
                errors
            };
        };
        
        // --- Dynamic Background Component ---
        const DynamicGradientBackground = ({ children }) => {
            const [overlayOpacity, setOverlayOpacity] = useState(0);

            const updateOpacity = () => {
                const now = new Date();
                const hours = now.getHours();
                const minutes = now.getMinutes();
                const currentTime = hours + minutes / 60;

                let opacity;

                // Helper function for smooth transition (linear interpolation)
                const interpolate = (startHour, endHour, startOpacity, endOpacity) => {
                    const duration = endHour - startHour;
                    const progress = (currentTime - startHour) / duration;
                    return startOpacity + progress * (endOpacity - startOpacity);
                };

                if (currentTime >= 21 || currentTime < 4) { // Night
                    opacity = 0.6;
                } else if (currentTime >= 4 && currentTime < 6) { // Transition to Dawn
                    opacity = interpolate(4, 6, 0.6, 0.1);
                } else if (currentTime >= 6 && currentTime < 8) { // Dawn
                    opacity = 0.1;
                } else if (currentTime >= 8 && currentTime < 10) { // Transition to Day
                    opacity = interpolate(8, 10, 0.1, 0.0);
                } else if (currentTime >= 10 && currentTime < 16) { // Day
                    opacity = 0.0;
                } else if (currentTime >= 16 && currentTime < 18) { // Transition to Dusk
                    opacity = interpolate(16, 18, 0.0, 0.4);
                } else if (currentTime >= 18 && currentTime < 20) { // Dusk
                    opacity = 0.4;
                } else if (currentTime >= 20 && currentTime < 21) { // Transition to Night
                    opacity = interpolate(20, 21, 0.4, 0.6);
                } else {
                    opacity = 0.0; // Fallback for day
                }
                
                setOverlayOpacity(opacity);
            };

            useEffect(() => {
                updateOpacity(); // Run once immediately
                const intervalId = setInterval(updateOpacity, 60000); // Check every 60 seconds

                return () => clearInterval(intervalId); // Cleanup on unmount
            }, []);

            return (
                <div className="relative min-h-screen w-full bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-900">
                    <div 
                        className="absolute inset-0 bg-black transition-opacity duration-1000"
                        style={{ opacity: overlayOpacity }}
                    ></div>
                    <div className="relative z-10">
                        {children}
                    </div>
                </div>
            );
        };

        // --- MOCK DATA & ASSETS ---
        const platformLogos = { 'Instagram': 'https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png', 'Spotify': 'https://upload.wikimedia.org/wikipedia/commons/2/26/Spotify_logo_with_text.svg', 'Google Analytics 4': 'https://www.gstatic.com/analytics-suite/header/suite/v2/ic_analytics.svg', 'TikTok Organic': 'https://sf-static.tiktokcdn.com/obj/eden-sg/uhtyvueh7nulogpoguhm/tiktok-icon2.png', 'Facebook Ads': 'https://upload.wikimedia.org/wikipedia/commons/6/6c/Facebook_Ads_logo.svg', 'Stripe': 'https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg' };
        const kpiLabels = { total_followers: 'Follower insgesamt', reel_views: 'Reel Aufrufe', total_users: 'Nutzer insgesamt', engagement_rate: 'Engagement-Rate' };
        const availablePlatforms = [ { id: 'google_analytics_4', name: 'Google Analytics 4' }, { id: 'instagram', name: 'Instagram' }, { id: 'tiktok_organic', name: 'TikTok Organic' }, { id: 'facebook_ads', name: 'Facebook Ads' }, { id: 'stripe', name: 'Stripe' } ];
        const mockIntegrations = { 'int_ga4_123': { id: 'int_ga4_123', platform: 'Google Analytics 4', accountName: 'Mein Online-Shop', status: 'connected' }, 'int_ig_456': { id: 'int_ig_456', platform: 'Instagram', accountName: '@neondreams_band', status: 'connected' }, 'int_tiktok_789': { id: 'int_tiktok_789', platform: 'TikTok Organic', accountName: 'neondreams_official', status: 'pending' } };
        const mockDashboards = [ { id: 'dash_1', name: 'Album Release "Neon Dreams" - Performance', logoUrl: 'https://placehold.co/100x40/1a1a1a/ffffff?text=ND', widgets: [ { id: 'w1', integrationId: 'int_ig_456', kpi: 'total_followers', timeFrame: 'last_30_days', w: 4, h: 2 }, { id: 'w2', integrationId: 'int_ig_456', kpi: 'reel_views', timeFrame: 'last_7_days', w: 4, h: 2 }, { id: 'w3', integrationId: 'int_ga4_123', kpi: 'total_users', timeFrame: 'last_30_days', w: 4, h: 2 }, { id: 'w4', integrationId: 'int_ga4_123', kpi: 'engagement_rate', timeFrame: 'last_30_days', w: 8, h: 2 } ] } ];
        const mockDashboardData = { keyKpis: [ { platform: 'Instagram', kpi: 'Follower insgesamt', value: '48.152', change: 1.2 }, { platform: 'Spotify', kpi: 'Monatliche Hörer', value: '1.2M', change: 5.3 }, { platform: 'Google Analytics 4', kpi: 'Nutzer (letzte 7 Tage)', value: '12.830', change: -2.1 } ], learningProgress: { pathTitle: 'Onboarding für neue Künstler:innen', progress: 75 }};
        const initialProjects = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        // (Keep only the first occurrence of each mock data variable, remove all subsequent duplicates throughout the script)
                // Removed duplicate declaration of mockCmsData
                // const mockKnowledgeBase = ... (duplicate removed)
                // Removed duplicate declaration
                // Removed duplicate declaration
                // Removed duplicate declaration
                // Removed duplicate declaration
                const initialUser = {
                    uid: 'demo-user-123',
                    email: 'demo@example.com',
                    displayName: 'Demo Benutzer',
                    photoURL: null
                // Removed duplicate declaration
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
                // Removed duplicate declaration
        ];
        const initialUser = {
        // Diese Zeilen wurden entfernt, da die Variablen bereits weiter oben deklariert wurden
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] }, { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] }, { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] } ] };
        const mockKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const mockLearningPaths = [ { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const mockCmsData = { data: [ { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte",
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const initialKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const initialTemplates = [
            { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] },
            { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] },
            { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] }
        ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const initialKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const initialTemplates = [
            { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] },
            { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] },
            { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] }
        ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const initialKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const initialTemplates = [
            { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] },
            { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] },
            { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] }
        ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const initialKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const initialTemplates = [
            { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] },
            { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] },
            { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] }
        ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const initialKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const initialTemplates = [
            { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] },
            { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] },
            { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] }
        ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const initialKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const initialTemplates = [
            { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] },
            { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] },
            { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] }
        ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const initialKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const initialTemplates = [
            { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] },
            { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] },
            { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] }
        ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const initialKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const initialTemplates = [
            { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] },
            { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] },
            { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] }
        ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: 'text', content: 'Jeder Live-Auftritt muss gemeldet werden...' }, { id: 'm1-4', title: "Wissens-Check: Kommunikation", type: 'quiz', content: { question: "Welches Tool nutzen wir für das Projektmanagement?", options: ["Slack", "Asana", "Trello"], correctAnswerIndex: 1 }} ] }, { id: 'lp2', title: "Einführung für Freelance-Booker", description: "So arbeitest du effektiv mit uns.", targetRole: "Freelancer", modules: [ { id: 'm2-1', title: "Übersicht unserer Künstler-Roster", type: 'text' }, { id: 'm2-2', title: "Der Booking-Prozess", type: 'video' }, { id: 'm2-3', title: "Wissens-Check: Verträge", type: 'quiz', content: { question: "Wo findest du die Vertragsvorlagen?", options: ["Google Drive", "SmartLibrary"], correctAnswerIndex: 1 }} ] } ];
        const initialKnowledgeBase = { data: [ { id: 'kb-1', title: "Wie richte ich mein E-Mail-Konto ein?", category: "Setup", tags: ["email", "mdm"] }, { id: 'kb-2', title: "Was ist ein AV-Vertrag?", category: "DSGVO", tags: ["datenschutz", "vertrag"] }, { id: 'kb-3', title: "Wie teile ich ein Moodboard?", category: "Kollaboration", tags: ["moodboard", "sharing"] } ] };
        const initialTemplates = [
            { id: 1, title: "Bandübernahmevertrag (Standard)", description: "Ein Standardvertrag zur Übertragung der Master-Rechte.", category: "Verträge", files: { docx: "#", pdf: "#" }, tags: ["Recording", "Rechte", "Label"] },
            { id: 2, title: "Booking-Anfrage (Vorlage)", description: "Vorlage für Anfragen an Veranstalter.", category: "Booking", files: { docx: "#" }, tags: ["Live", "Konzert"] },
            { id: 3, title: "Pressekit-Checkliste", description: "Alle wichtigen Inhalte für ein Pressekit.", category: "Best Practices", files: { pdf: "#", notion: "#" }, tags: ["PR", "Marketing", "EPK"] }
        ];
        const dsgvoQuestions = [ { id: 'q1', text: "Führst du ein Verzeichnis von Verarbeitungstätigkeiten (VVT)?" }, { id: 'q2', text: "Hast du eine Datenschutzerklärung auf deiner Webseite?" }, { id: 'q3', text: "Schließt du Auftragsverarbeitungs-Verträge (AVV) mit Dienstleistern ab?" } ];
        const priorityColors = { low: 'bg-green-500', medium: 'bg-yellow-500', high: 'bg-red-500' };
        const initialActivities = [
            { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
            { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
            { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
            { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
        ];
        const initialUser = {
            uid: 'demo-user-123',
            email: 'demo@example.com',
            displayName: 'Demo Benutzer',
            photoURL: null
        };
        const initialProjectsData = [
            { id: 'proj_1', name: 'Album Release "Neon Dreams"', files: [], moodboards: [ { id: 'mood_1', title: 'Cover Artwork & Visuals', items: [ { id: 'item_1', type: 'image', content: 'https://placehold.co/600x400/1a1a1a/ffffff?text=Inspiration+1', x: 50, y: 50, w: 250, h: 180 }, { id: 'item_2', type: 'text', content: 'Key Words: Retro, 80s, Chrome, Sunset', x: 350, y: 80, w: 200, h: 100 }, { id: 'item_3', type: 'image', content: 'https://placehold.co/600x400/4a4a4a/ffffff?text=Inspiration+2', x: 80, y: 280, w: 300, h: 200 }, { id: 'item_4', type: 'video', content: 'Video-Referenz', x: 420, y: 250, w: 220, h: 150 } ] } ], taskboards: [ { id: 'task_1', title: 'Marketing & PR Plan', sections: [ { id: 'sec_1', title: 'To Do', tasks: [ { id: 't_1', title: 'Pressemitteilung entwerfen', priority: 'high', assignee: 'Anna', dueDate: '2025-08-15', completed: false }, { id: 't_2', title: 'Social Media Grafiken erstellen', priority: 'medium', assignee: 'Max', dueDate: '2025-08-20', completed: false } ] }, { id: 'sec_2', title: 'In Progress', tasks: [ { id: 't_3', title: 'Interview-Partner anfragen', priority: 'high', assignee: 'Anna', completed: false } ] }, { id: 'sec_3', title: 'Done', tasks: [ { id: 't_4', title: 'Marketing-Budget finalisieren', priority: 'medium', assignee: 'Chris', dueDate: '2025-07-20', completed: true } ] } ] } ] }
        ];
        const initialLearningPaths = [
            { id: 'lp1', title: "Onboarding für neue Künstler:innen", description: "Alle Grundlagen für einen erfolgreichen Start.", targetRole: "Künstler", modules: [ { id: 'm1-1', title: "Willkommen im Team!", type: 'video' }, { id: 'm1-2', title: "Unsere Kommunikations-Tools", type: 'text', content: 'Wir nutzen Slack für die tägliche Kommunikation und Asana für das Projektmanagement...' }, { id: 'm1-3', title: "Grundlagen der GEMA-Meldung", type: '
                onTaskboardUpdate(newBoard);
            };

            const handleDragStart = (e, task, sectionId) => { if (isEditable) { setDraggedTask(task); setSourceSection(sectionId); e.dataTransfer.effectAllowed = 'move'; }};
            const handleDragOver = (e) => { if (isEditable) e.preventDefault(); };
            const handleDrop = (e, targetSectionId) => {
                if (!isEditable || !draggedTask || sourceSection === targetSectionId) return;
                
                const newBoard = JSON.parse(JSON.stringify(currentBoard));
                const sourceSec = newBoard.sections.find(s => s.id === sourceSection);
                const taskIndex = sourceSec.tasks.findIndex(t => t.id === draggedTask.id);
                sourceSec.tasks.splice(taskIndex, 1);
                const targetSec = newBoard.sections.find(s => s.id === targetSectionId);
                targetSec.tasks.push(draggedTask);
                
                handleUpdate(newBoard);
                setDraggedTask(null);
                setSourceSection(null);
            };

            const handleAddTask = (sectionId) => {
                if (!isEditable || !newTaskTitle.trim()) return;
                
                const newTask = { id: `t_${Date.now()}`, title: newTaskTitle, priority: 'medium', assignee: null, dueDate: null, completed: false };
                const newBoard = JSON.parse(JSON.stringify(currentBoard));
                const section = newBoard.sections.find(s => s.id === sectionId);
                section.tasks.push(newTask);
                
                handleUpdate(newBoard);
                setNewTaskTitle("");
                setAddingToSection(null);
            };

            return (
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                    {currentBoard.sections.map(section => (
                        <div key={section.id} className="bg-black/10 rounded-2xl p-4 flex flex-col min-h-[400px]" onDragOver={handleDragOver} onDrop={(e) => handleDrop(e, section.id)}>
                            <h3 className="font-bold text-lg mb-4 text-shadow">{section.title} <span className="text-sm font-normal text-gray-300">{section.tasks.length}</span></h3>
                            <div className="flex-grow space-y-4">
                                {section.tasks.map(task => (
                                    <div key={task.id} draggable={isEditable} onDragStart={(e) => handleDragStart(e, task, section.id)} className={`glass-pane p-4 rounded-lg shadow-md ${isEditable ? 'cursor-grab active:cursor-grabbing' : ''}`}>
                                        <div className="flex justify-between items-start"><p className="font-semibold text-shadow">{task.title}</p><div className={`w-3 h-3 rounded-full ${priorityColors[task.priority]}`}></div></div>
                                        <div className="flex items-center text-xs text-gray-300 mt-3 space-x-4">
                                            {task.dueDate && <span className="flex items-center"><Icon name="calendar" className="w-3 h-3 mr-1" /> {task.dueDate}</span>}
                                            {task.assignee && <span className="flex items-center"><Icon name="user" className="w-3 h-3 mr-1" /> {task.assignee}</span>}
                                        </div>
                                    </div>
                                ))}
                            </div>
                            {isEditable && (addingToSection === section.id ? (
                                <div className="mt-4">
                                    <textarea value={newTaskTitle} onChange={e => setNewTaskTitle(e.target.value)} className="w-full p-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400" placeholder="Aufgabentitel..."></textarea>
                                    <div className="flex items-center gap-2 mt-2">
                                        <button onClick={() => handleAddTask(section.id)} className="bg-blue-500 text-white px-3 py-1 rounded-md text-sm">Hinzufügen</button>
                                        <button onClick={() => setAddingToSection(null)}><Icon name="x" className="w-5 h-5" /></button>
                                    </div>
                                </div>
                            ) : (
                                <button onClick={() => setAddingToSection(section.id)} className="mt-4 w-full p-2 bg-blue-500 text-white rounded-lg text-sm font-bold">Neue Aufgabe hinzufügen</button>
                            ))}
                        </div>
                    ))}
                </div>
            );
        };
        
        const FilesPage = ({ project, onProjectUpdate, isEditable }) => {
            const [showAddLinkModal, setShowAddLinkModal] = useState(false);
            const [selectedFiles, setSelectedFiles] = useState([]);
            const fileInputRef = useRef(null);

            const compatibleFileTypes = [
                'audio/mpeg', 'audio/wav', 'audio/ogg', 'audio/mp4',
                'image/jpeg', 'image/png', 'image/gif', 'image/svg+xml',
                'video/mp4', 'video/quicktime',
                'application/pdf', 'text/plain',
                'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
                'application/vnd.ms-powerpoint', 'application/vnd.openxmlformats-officedocument.presentationml.presentation',
                'application/x-iwork-pages-sffpages',
                'application/x-iwork-numbers-sffnumbers',
                'application/x-iwork-keynote-sffkey'
            ].join(',');

            const getFileIcon = (type) => {
                if (type.startsWith('audio/')) return 'music';
                if (type.startsWith('image/')) return 'image';
                if (type.startsWith('video/')) return 'video';
                if (type === 'application/pdf') return 'fileText';
                if (type === 'link') return 'link';
                return 'file';
            };

            const handleFileSelect = (e) => {
                const files = Array.from(e.target.files);
                const newFiles = files.map(file => ({
                    id: `file_${Date.now()}_${Math.random()}`,
                    name: file.name,
                    type: 'file',
                    fileType: file.type,
                    size: file.size,
                }));

                onProjectUpdate({ ...project, files: [...project.files, ...newFiles] });
            };

            const handleAddLink = (title, url) => {
                const newLink = {
                    id: `link_${Date.now()}`,
                    name: title,
                    type: 'link',
                    url: url,
                };
                onProjectUpdate({ ...project, files: [...project.files, newLink] });
                setShowAddLinkModal(false);
            };
            
            const handleShareSelected = () => {
                if (selectedFiles.length === 0) return;
                const shareIds = selectedFiles.join(',');
                const shareLink = `${window.location.origin}${window.location.pathname}?share=${shareIds}`;
                
                navigator.clipboard.writeText(shareLink).then(() => {
                     alert('Link zum Teilen wurde in die Zwischenablage kopiert!');
                }).catch(err => {
                    console.error('Fehler beim Kopieren: ', err);
                    alert('Kopieren fehlgeschlagen. Bitte manuell kopieren.');
                });
            };

            const toggleFileSelection = (fileId) => {
                setSelectedFiles(prev => 
                    prev.includes(fileId) ? prev.filter(id => id !== fileId) : [...prev, fileId]
                );
            };

            return (
                <div className="glass-pane p-6 rounded-2xl">
                    <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6">
                        <h2 className="text-2xl font-bold text-shadow mb-4 sm:mb-0">Dateien & Links</h2>
                        {isEditable && (
                            <div className="flex gap-2">
                                <button onClick={() => fileInputRef.current.click()} className="flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold">
                                    <Icon name="uploadCloud" className="w-5 h-5" /> Dateien hochladen
                                </button>
                                <button onClick={() => setShowAddLinkModal(true)} className="flex items-center gap-2 bg-white/10 text-white px-4 py-2 rounded-lg text-sm font-bold">
                                    <Icon name="link" className="w-5 h-5" /> Link hinzufügen
                                </button>
                                <input type="file" multiple ref={fileInputRef} onChange={handleFileSelect} className="hidden" accept={compatibleFileTypes} />
                            </div>
                        )}
                    </div>
                    
                    {selectedFiles.length > 0 && isEditable && (
                         <div className="mb-4">
                            <button onClick={handleShareSelected} className="bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-bold">
                                {selectedFiles.length} Element(e) teilen
                            </button>
                        </div>
                    )}

                    <div className="space-y-3">
                        {project.files.map(file => (
                            <div key={file.id} className="flex items-center justify-between p-3 bg-white/5 rounded-lg">
                                <div className="flex items-center gap-4">
                                    {isEditable && <input type="checkbox" checked={selectedFiles.includes(file.id)} onChange={() => toggleFileSelection(file.id)} className="form-checkbox h-5 w-5 bg-transparent border-white/30 rounded text-blue-500 focus:ring-blue-500"/>}
                                    <Icon name={getFileIcon(file.type === 'link' ? 'link' : file.fileType)} className="w-6 h-6 text-gray-300" />
                                    <div>
                                        <p className="font-semibold text-shadow">{file.name}</p>
                                        {file.type === 'file' ? (
                                            <p className="text-xs text-gray-400">{(file.size / 1024 / 1024).toFixed(2)} MB</p>
                                        ) : (
                                             <SecureLink 
                                                href={file.url} 
                                                target="_blank" 
                                                rel="noopener noreferrer" 
                                                className="text-xs text-blue-400 hover:underline"
                                            >
                                                {file.url}
                                            </SecureLink>
                                        )}
                                    </div>
                                </div>
                                <button className="text-gray-400 hover:text-white"><Icon name="moreVertical" className="w-5 h-5" /></button>
                            </div>
                        ))}
                        {project.files.length === 0 && <p className="text-center text-gray-400 py-8">Noch keine Dateien oder Links in diesem Projekt.</p>}
                    </div>
                    
                    {showAddLinkModal && <AddLinkModal onAdd={handleAddLink} onClose={() => setShowAddLinkModal(false)} />}
                </div>
            );
        };

        const AddLinkModal = ({ onAdd, onClose }) => {
            const [title, setTitle] = useState('');
            const [url, setUrl] = useState('');
            const [urlError, setUrlError] = useState('');

            const handleUrlChange = (e) => {
                const newUrl = e.target.value;
                setUrl(newUrl);
                
                // Real-time URL-Validierung
                if (newUrl.trim()) {
                    try {
                        if (window.multiCharacterSanitizer) {
                            window.multiCharacterSanitizer.validateUrl(newUrl.trim(), {
                                requireHttps: false,
                                maxLength: 2048,
                                allowRelative: false
                            });
                        } else {
                            // Fallback-Validierung
                            new URL(newUrl.trim());
                        }
                        setUrlError('');
                    } catch (error) {
                        setUrlError(error.message || 'Ungültige URL');
                    }
                } else {
                    setUrlError('');
                }
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                
                if (!title.trim()) {
                    alert('Titel ist erforderlich');
                    return;
                }
                
                if (!url.trim()) {
                    alert('URL ist erforderlich');
                    return;
                }
                
                // Finale URL-Validierung vor dem Hinzufügen
                try {
                    const sanitizedTitle = window.multiCharacterSanitizer ? 
                        window.multiCharacterSanitizer.sanitize(title.trim(), { 
                            maxLength: 200, 
                            allowHtml: false 
                        }) : 
                        title.trim();
                    
                    const validatedUrl = window.multiCharacterSanitizer ? 
                        window.multiCharacterSanitizer.validateUrl(url.trim(), {
                            requireHttps: false,
                            maxLength: 2048,
                            allowRelative: false
                        }) : 
                        new URL(url.trim()).toString();
                    
                    onAdd(sanitizedTitle, validatedUrl);
                } catch (error) {
                    alert(`Fehler beim Hinzufügen des Links: ${error.message}`);
                }
            };

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4" onClick={onClose}>
                    <div className="glass-pane rounded-2xl w-full max-w-md text-white" onClick={e => e.stopPropagation()}>
                        <div className="p-6">
                            <h3 className="text-lg font-bold mb-4 text-shadow">Link hinzufügen</h3>
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div>
                                    <input 
                                        type="text" 
                                        value={title} 
                                        onChange={e => setTitle(e.target.value)} 
                                        placeholder="Titel" 
                                        maxLength={200}
                                        className="w-full p-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400" 
                                        required 
                                    />
                                </div>
                                <div>
                                    <input 
                                        type="url" 
                                        value={url} 
                                        onChange={handleUrlChange} 
                                        placeholder="https://..." 
                                        maxLength={2048}
                                        className={`w-full p-2 rounded-lg bg-white/10 border text-white placeholder-gray-400 ${
                                            urlError ? 'border-red-500' : 'border-white/20'
                                        }`}
                                        required 
                                    />
                                    {urlError && (
                                        <p className="text-red-400 text-xs mt-1">{urlError}</p>
                                    )}
                                </div>
                                <div className="flex justify-end gap-2">
                                    <button type="button" onClick={onClose} className="px-4 py-2 rounded-lg text-sm">
                                        Abbrechen
                                    </button>
                                    <button 
                                        type="submit" 
                                        disabled={!!urlError || !title.trim() || !url.trim()}
                                        className="bg-blue-500 px-4 py-2 rounded-lg text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed"
                                    >
                                        Hinzufügen
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            );
        };

        // --- MAIN APP COMPONENTS ---

        // Navigation Component
        const Navigation = ({ activePage, setActivePage, user }) => {
            const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

            const handleSignOut = async () => {
                try {
                    await window.firebase.signOut();
                    console.log('✅ User signed out');
                } catch (error) {
                    console.error('❌ Sign out error:', error);
                }
            };

            const navItems = [
                { id: 'dashboard', name: 'Dashboard', icon: 'barChart' },
                { id: 'projects', name: 'Projekte', icon: 'briefcase' },
                { id: 'analytics', name: 'Analytics', icon: 'zap' },
                { id: 'library', name: 'Library', icon: 'bookOpen' },
                { id: 'support', name: 'Support', icon: 'messageSquare' },
                { id: 'learningcenter', name: 'Learning', icon: 'award' },
                { id: 'comply', name: 'Comply', icon: 'shieldCheck' },
                { id: 'profile', name: 'Profil', icon: 'user' }
            ];

            return (
                <nav className="glass-pane sticky top-0 z-50">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex justify-between items-center h-16">
                            <div className="flex items-center">
                                <img src="https://github.com/mmmaaalllttteee/meine-musik-plattform/blob/main/wmitw_web.png?raw=true" alt="Logo" className="h-10 w-10 object-contain" onError={(e) => { e.target.src='https://placehold.co/40x40/ffffff/000000?text=W'; }} />
                                <span className="ml-3 text-xl font-bold text-shadow">Musik-Plattform</span>
                            </div>

                            {/* Desktop Navigation */}
                            <div className="hidden md:block">
                                <div className="ml-10 flex items-baseline space-x-4">
                                    {navItems.map((item) => (
                                        <button
                                            key={item.id}
                                            onClick={() => setActivePage(item.id)}
                                            className={`px-3 py-2 rounded-md text-sm font-medium flex items-center gap-2 ${
                                                activePage === item.id
                                                    ? 'bg-white/20 text-white'
                                                    : 'text-gray-300 hover:bg-white/10 hover:text-white'
                                            }`}
                                        >
                                            <Icon name={item.icon} className="w-4 h-4" />
                                            {item.name}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* User Menu */}
                            <div className="flex items-center gap-4">
                                <button className="relative text-gray-300 hover:text-white">
                                    <Icon name="bell" className="w-6 h-6" />
                                    <span className="absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-gray-900"></span>
                                </button>
                                <div className="relative group">
                                    <button className="flex items-center gap-2 text-gray-300 hover:text-white">
                                        <img src={user?.photoURL || `https://placehold.co/32x32/EBF4FF/1a1a1a?text=${user?.displayName?.charAt(0) || 'U'}`} alt="User Avatar" className="w-8 h-8 rounded-full" />
                                        <span className="hidden sm:block">{user?.displayName || 'User'}</span>
                                    </button>
                                    <div className="absolute right-0 mt-2 w-48 glass-pane rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all">
                                        <div className="py-1">
                                            <button onClick={() => setActivePage('profile')} className="block px-4 py-2 text-sm text-gray-300 hover:bg-white/10 hover:text-white w-full text-left">
                                                <Icon name="user" className="w-4 h-4 inline mr-2" />
                                                Profil
                                            </button>
                                            <button onClick={handleSignOut} className="block px-4 py-2 text-sm text-gray-300 hover:bg-white/10 hover:text-white w-full text-left">
                                                <Icon name="logOut" className="w-4 h-4 inline mr-2" />
                                                Abmelden
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                {/* Mobile menu button */}
                                <button
                                    onClick={() => setMobileMenuOpen(!mobileMenuOpen)}
                                    className="md:hidden text-gray-300 hover:text-white"
                                >
                                    <Icon name="menu" className="w-6 h-6" />
                                </button>
                            </div>
                        </div>

                        {/* Mobile Navigation */}
                        {mobileMenuOpen && (
                            <div className="md:hidden">
                                <div className="px-2 pt-2 pb-3 space-y-1 glass-pane rounded-lg mt-2">
                                    {navItems.map((item) => (
                                        <button
                                            key={item.id}
                                            onClick={() => {
                                                setActivePage(item.id);
                                                setMobileMenuOpen(false);
                                            }}
                                            className={`block px-3 py-2 rounded-md text-base font-medium w-full text-left flex items-center gap-2 ${
                                                activePage === item.id
                                                    ? 'bg-white/20 text-white'
                                                    : 'text-gray-300 hover:bg-white/10 hover:text-white'
                                            }`}
                                        >
                                            <Icon name={item.icon} className="w-4 h-4" />
                                            {item.name}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>
                </nav>
            );
        };

        // Main App Component
        const MainApp = () => {
            const { user } = useAuth();
            const [activePage, setActivePage] = useState('dashboard');
            const [projects, setProjects] = useState(initialProjects);
            const [selectedProject, setSelectedProject] = useState(null);
            const [activities] = useState([
                { id: 'act_1', type: 'task_completed', text: 'Pressemitteilung fertiggestellt', project: 'Album Release', time: 'vor 2 Stunden' },
                { id: 'act_2', type: 'file_uploaded', text: 'Cover-Artwork hochgeladen', project: 'Album Release', time: 'vor 4 Stunden' },
                { id: 'act_3', type: 'task_completed', text: 'Social Media Plan erstellt', project: 'Marketing Campaign', time: 'gestern' },
                { id: 'act_4', type: 'comment_added', text: 'Feedback zu Moodboard erhalten', project: 'Album Release', time: 'vor 2 Tagen' }
            ]);
            const [complyCheckScore, setComplyCheckScore] = useState('3 / 3');

            const handleCreateProject = (name) => {
                const newProject = {
                    id: `proj_${Date.now()}`,
                    name: name,
                    files: [],
                    moodboards: [{ id: `mood_${Date.now()}`, title: 'Hauptmoodboard', items: [] }],
                    taskboards: [{ 
                        id: `task_${Date.now()}`, 
                        title: 'Projekt Tasks', 
                        sections: [
                            { id: 'sec_todo', title: 'To Do', tasks: [] },
                            { id: 'sec_progress', title: 'In Progress', tasks: [] },
                            { id: 'sec_done', title: 'Done', tasks: [] }
                        ] 
                    }]
                };
                setProjects(prev => [...prev, newProject]);
            };

            const handleSelectProject = (projectId) => {
                const project = projects.find(p => p.id === projectId);
                setSelectedProject(project);
                setActivePage('project-detail');
            };

            const handleProjectUpdate = (updatedProject) => {
                setProjects(prev => prev.map(p => p.id === updatedProject.id ? updatedProject : p));
                setSelectedProject(updatedProject);
            };

            const handleBackToProjects = () => {
                setSelectedProject(null);
                setActivePage('projects');
            };

            const renderPage = () => {
                switch (activePage) {
                    case 'dashboard':
                    default:
                        return <MainDashboard setActivePage={setActivePage} activities={activities} complyCheckScore={complyCheckScore} />;
                    case 'projects':
                        return <ProjectListPage projects={projects} setProjects={setProjects} onSelectProject={handleSelectProject} onCreateProject={handleCreateProject} />;
                    case 'project-detail':
                        return selectedProject ? <ProjectDetailPage project={selectedProject} setProjectData={handleProjectUpdate} onBack={handleBackToProjects} /> : <ProjectListPage projects={projects} setProjects={setProjects} onSelectProject={handleSelectProject} onCreateProject={handleCreateProject} />;
                    case 'analytics':
                        return <AnalyticsPage />;
                    case 'library':
                        return <LibraryPage />;
                    case 'support':
                        return <SupportPage />;
                    case 'learningcenter':
                        return <LearningCenter />;
                    case 'comply':
                        return <ComplyCheckPage onTestComplete={setComplyCheckScore} />;
                    case 'profile':
                        return <ProfilePage setActivePage={setActivePage} />;
                }
            };

            // Initialize security measures
            useEffect(() => {
                preventDataLeakage();
            }, []);

            return (
                <DynamicGradientBackground>
                    <div className="min-h-screen">
                        <Navigation activePage={activePage} setActivePage={setActivePage} user={user} />
                        <main className="pb-8">
                            {renderPage()}
                        </main>
                    </div>
                </DynamicGradientBackground>
            );
        };

        // --- AUTH COMPONENTS ---
        
        // Login Page Component
        const LoginPage = ({ onLogin, setActiveAuthPage }) => {
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [loading, setLoading] = useState(false);
            const [message, setMessage] = useState('');

            const handleSubmit = async (e) => {
                e.preventDefault();
                setLoading(true);
                setMessage('');

                try {
                    if (window.firebase && window.firebase.signInWithEmailAndPassword) {
                        const userCredential = await window.firebase.signInWithEmailAndPassword(
                            window.firebase.auth, 
                            email, 
                            password
                        );
                        console.log('✅ Login successful:', userCredential.user);
                        onLogin(userCredential.user);
                    } else {
                        throw new Error('Firebase Auth nicht verfügbar');
                    }
                } catch (error) {
                    console.error('❌ Login error:', error);
                    setMessage('Anmeldung fehlgeschlagen. Im Demo-Modus fortfahren.');
                } finally {
                    setLoading(false);
                }
            };

            return (
                <DynamicGradientBackground>
                    <div className="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
                        <div className="max-w-md w-full space-y-8">
                            <div className="text-center">
                                <img src="https://github.com/mmmaaalllttteee/meine-musik-plattform/blob/main/wmitw_web.png?raw=true" alt="Logo" className="mx-auto h-24 w-24 object-contain" onError={(e) => { e.target.src='https://placehold.co/96x96/ffffff/000000?text=Logo'; }} />
                                <h2 className="mt-6 text-3xl font-extrabold text-white text-shadow">
                                    Bei deinem Konto anmelden
                                </h2>
                            </div>
                            <div className="glass-pane rounded-2xl p-8">
                                <form className="space-y-6" onSubmit={handleSubmit}>
                                    {message && (
                                        <div className="p-3 rounded-lg text-sm text-center bg-blue-500/20 text-blue-100">
                                            {message}
                                        </div>
                                    )}
                                    
                                    <div>
                                        <label htmlFor="email" className="block text-sm font-medium text-gray-300">
                                            E-Mail-Adresse
                                        </label>
                                        <input
                                            id="email"
                                            name="email"
                                            type="email"
                                            required
                                            value={email}
                                            onChange={(e) => setEmail(e.target.value)}
                                            className="mt-1 w-full px-3 py-2 border border-white/20 rounded-lg bg-white/10 text-white placeholder-gray-400"
                                            placeholder="deine@email.com"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label htmlFor="password" className="block text-sm font-medium text-gray-300">
                                            Passwort
                                        </label>
                                        <input
                                            id="password"
                                            name="password"
                                            type="password"
                                            required
                                            value={password}
                                            onChange={(e) => setPassword(e.target.value)}
                                            className="mt-1 w-full px-3 py-2 border border-white/20 rounded-lg bg-white/10 text-white placeholder-gray-400"
                                            placeholder="••••••••"
                                        />
                                    </div>

                                    <div>
                                        <button
                                            type="submit"
                                            disabled={loading}
                                            className="w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50"
                                        >
                                            {loading ? 'Wird geladen...' : 'Anmelden'}
                                        </button>
                                    </div>
                                </form>
                                
                                <div className="mt-6 text-center space-y-2">
                                    <button
                                        onClick={() => setActiveAuthPage('register')}
                                        className="text-sm text-blue-400 hover:text-blue-300"
                                    >
                                        Noch kein Konto? Registrieren
                                    </button>
                                    <br />
                                    <button
                                        onClick={() => setActiveAuthPage('landing')}
                                        className="text-sm text-gray-400 hover:text-gray-300"
                                    >
                                        ← Zurück zur Startseite
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </DynamicGradientBackground>
            );
        };

        // Register Page Component  
        const RegisterPage = ({ onRegister, setActiveAuthPage }) => {
            const [formData, setFormData] = useState({
                displayName: '',
                email: '',
                password: '',
                confirmPassword: ''
            });
            const [loading, setLoading] = useState(false);
            const [message, setMessage] = useState('');

            const handleInputChange = (e) => {
                setFormData(prev => ({
                    ...prev,
                    [e.target.name]: e.target.value
                }));
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                setLoading(true);
                setMessage('');

                if (formData.password !== formData.confirmPassword) {
                    setMessage('Passwörter stimmen nicht überein');
                    setLoading(false);
                    return;
                }

                try {
                    if (window.firebase && window.firebase.createUserWithEmailAndPassword) {
                        const userCredential = await window.firebase.createUserWithEmailAndPassword(
                            window.firebase.auth,
                            formData.email,
                            formData.password
                        );

                        await window.firebase.updateProfile(userCredential.user, {
                            displayName: formData.displayName
                        });

                        console.log('✅ Registration successful:', userCredential.user);
                        onRegister(userCredential.user);
                    } else {
                        throw new Error('Firebase Auth nicht verfügbar');
                    }
                } catch (error) {
                    console.error('❌ Registration error:', error);
                    setMessage('Registrierung fehlgeschlagen. Im Demo-Modus fortfahren.');
                } finally {
                    setLoading(false);
                }
            };

            return (
                <DynamicGradientBackground>
                    <div className="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
                        <div className="max-w-md w-full space-y-8">
                            <div className="text-center">
                                <img src="https://github.com/mmmaaalllttteee/meine-musik-plattform/blob/main/wmitw_web.png?raw=true" alt="Logo" className="mx-auto h-24 w-24 object-contain" onError={(e) => { e.target.src='https://placehold.co/96x96/ffffff/000000?text=Logo'; }} />
                                <h2 className="mt-6 text-3xl font-extrabold text-white text-shadow">
                                    Kostenloses Konto erstellen
                                </h2>
                            </div>
                            <div className="glass-pane rounded-2xl p-8">
                                <form className="space-y-6" onSubmit={handleSubmit}>
                                    {message && (
                                        <div className="p-3 rounded-lg text-sm text-center bg-blue-500/20 text-blue-100">
                                            {message}
                                        </div>
                                    )}
                                    
                                    <div>
                                        <label htmlFor="displayName" className="block text-sm font-medium text-gray-300">
                                            Vollständiger Name
                                        </label>
                                        <input
                                            id="displayName"
                                            name="displayName"
                                            type="text"
                                            required
                                            value={formData.displayName}
                                            onChange={handleInputChange}
                                            className="mt-1 w-full px-3 py-2 border border-white/20 rounded-lg bg-white/10 text-white placeholder-gray-400"
                                            placeholder="Max Mustermann"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label htmlFor="email" className="block text-sm font-medium text-gray-300">
                                            E-Mail-Adresse
                                        </label>
                                        <input
                                            id="email"
                                            name="email"
                                            type="email"
                                            required
                                            value={formData.email}
                                            onChange={handleInputChange}
                                            className="mt-1 w-full px-3 py-2 border border-white/20 rounded-lg bg-white/10 text-white placeholder-gray-400"
                                            placeholder="deine@email.com"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label htmlFor="password" className="block text-sm font-medium text-gray-300">
                                            Passwort
                                        </label>
                                        <input
                                            id="password"
                                            name="password"
                                            type="password"
                                            required
                                            value={formData.password}
                                            onChange={handleInputChange}
                                            className="mt-1 w-full px-3 py-2 border border-white/20 rounded-lg bg-white/10 text-white placeholder-gray-400"
                                            placeholder="••••••••"
                                        />
                                    </div>

                                    <div>
                                        <label htmlFor="confirmPassword" className="block text-sm font-medium text-gray-300">
                                            Passwort bestätigen
                                        </label>
                                        <input
                                            id="confirmPassword"
                                            name="confirmPassword"
                                            type="password"
                                            required
                                            value={formData.confirmPassword}
                                            onChange={handleInputChange}
                                            className="mt-1 w-full px-3 py-2 border border-white/20 rounded-lg bg-white/10 text-white placeholder-gray-400"
                                            placeholder="••••••••"
                                        />
                                    </div>

                                    <div>
                                        <button
                                            type="submit"
                                            disabled={loading}
                                            className="w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50"
                                        >
                                            {loading ? 'Wird geladen...' : 'Kostenloses Konto erstellen'}
                                        </button>
                                    </div>
                                </form>
                                
                                <div className="mt-6 text-center space-y-2">
                                    <button
                                        onClick={() => setActiveAuthPage('login')}
                                        className="text-sm text-blue-400 hover:text-blue-300"
                                    >
                                        Bereits ein Konto? Anmelden
                                    </button>
                                    <br />
                                    <button
                                        onClick={() => setActiveAuthPage('landing')}
                                        className="text-sm text-gray-400 hover:text-gray-300"
                                    >
                                        ← Zurück zur Startseite
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </DynamicGradientBackground>
            );
        };

        // --- FEHLENDE KOMPONENTEN ---

        // AnalyticsPage Component
        const AnalyticsPage = () => {
            const [dashboard, setDashboard] = useState(null);
            const [isModalOpen, setIsModalOpen] = useState(false);
            
            useEffect(() => {
                const dashboardData = mockDashboards[0];
                const populatedWidgets = dashboardData.widgets.map(widget => ({ 
                    ...widget, 
                    integration: mockIntegrations[widget.integrationId] 
                }));
                setDashboard({ ...dashboardData, widgets: populatedWidgets });
            }, []);

            if (!dashboard) return <PageWrapper><div>Lade...</div></PageWrapper>;

            const KpiWidget = ({ widget }) => {
                const value = Math.floor(Math.random() * 50000) + 1000;
                const change = (Math.random() * 10 - 5).toFixed(1);
                return (
                    <div className="glass-pane p-4 flex flex-col h-full rounded-2xl">
                        <div className="flex justify-between items-start mb-2">
                            <div className="flex items-center gap-2">
                                <img src={platformLogos[widget.integration.platform]} onError={(e) => e.target.src='https://placehold.co/32x32/cccccc/ffffff?text=P'} className="w-5 h-5 object-contain rounded-md" />
                                <span className="text-sm font-medium text-gray-300 text-shadow">{kpiLabels[widget.kpi]}</span>
                            </div>
                            <button className="text-gray-400"><Icon name="moreVertical" className="w-4 h-4" /></button>
                        </div>
                        <div className="flex-grow flex flex-col justify-center">
                            <p className="text-3xl lg:text-4xl font-bold text-shadow">{value.toLocaleString('de-DE')}</p>
                            <div className={`text-sm font-semibold flex items-center ${change >= 0 ? 'text-green-400' : 'text-red-400'}`}>
                                {change >= 0 ? '▲' : '▼'} {change}%
                            </div>
                        </div>
                        <div className="text-xs text-gray-400 mt-2 flex items-center gap-1">
                            <Icon name="clock" className="w-3 h-3" />
                            <span>{widget.timeFrame.replace(/_/g, ' ')}</span>
                        </div>
                    </div>
                );
            };

            return (
                <PageWrapper>
                    <header className="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8">
                        <div className="flex items-center gap-4 mb-4 sm:mb-0">
                            {dashboard.logoUrl && <img src={dashboard.logoUrl} className="h-10 rounded-md" />}
                            <h1 className="text-2xl sm:text-3xl font-bold text-shadow">{dashboard.name}</h1>
                        </div>
                        <div className="flex items-center space-x-2">
                            <button onClick={() => setIsModalOpen(true)} className="glass-pane flex items-center px-4 py-2 rounded-lg shadow-sm text-sm">
                                <Icon name="link" className="w-4 h-4 mr-2" /> Integrationen
                            </button>
                            <button className="bg-blue-500 text-white flex items-center px-4 py-2 rounded-lg shadow-sm text-sm">
                                <Icon name="plus" className="w-4 h-4 mr-2" /> KPI hinzufügen
                            </button>
                        </div>
                    </header>
                    <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-12 gap-6">
                        {dashboard.widgets.map(widget => (
                            <div key={widget.id} className="cursor-grab sm:col-span-1 md:col-span-1 lg:col-span-4">
                                <KpiWidget widget={widget} />
                            </div>
                        ))}
                        <div className="sm:col-span-1 md:col-span-1 lg:col-span-4 cursor-pointer border-2 border-dashed border-white/30 rounded-2xl flex items-center justify-center min-h-[150px]">
                            <div className="text-center text-gray-300">
                                <Icon name="plus" className="w-8 h-8 mx-auto mb-2" />
                                <p className="font-semibold">KPI hinzufügen</p>
                            </div>
                        </div>
                    </div>
                </PageWrapper>
            );
        };

        // LibraryPage Component
        const LibraryPage = () => {
            const [templates, setTemplates] = useState([]);
            const [searchTerm, setSearchTerm] = useState('');
            const [activeCategory, setActiveCategory] = useState('Alle');
            
            useEffect(() => { setTemplates(mockCmsData.data); }, []);
            
            const categories = useMemo(() => ['Alle', ...new Set(templates.map(t => t.category))], [templates]);
            const filteredTemplates = useMemo(() => templates.filter(template => 
                (activeCategory === 'Alle' || template.category === activeCategory) && 
                (searchTerm === '' || template.title.toLowerCase().includes(searchTerm.toLowerCase()))
            ), [templates, searchTerm, activeCategory]);

            const DownloadButton = ({ url, format }) => (
                <a href={url} className="inline-flex items-center bg-white/10 text-xs font-bold px-3 py-1 rounded-full hover:bg-white/20">
                    <Icon name={format === 'pdf' ? 'fileText' : 'file'} className="w-4 h-4 mr-2" />
                    {format.toUpperCase()}
                </a>
            );

            return (
                <PageWrapper>
                    <header className="mb-8">
                        <h1 className="text-3xl sm:text-4xl font-bold text-shadow">Smart Library</h1>
                        <p className="text-lg text-gray-300 mt-2 text-shadow">Vorlagen, Verträge und Best Practices.</p>
                    </header>
                    <div className="flex flex-col md:flex-row gap-4 mb-8">
                        <div className="relative flex-grow">
                            <Icon name="search" className="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" />
                            <input type="text" placeholder="Suchen..." value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className="w-full pl-10 pr-4 py-2 border border-white/20 rounded-lg bg-white/10 text-white placeholder-gray-400" />
                        </div>
                        <div className="flex-shrink-0 bg-black/20 p-1 rounded-lg border border-white/20 overflow-x-auto">
                            <div className="flex">
                                {categories.map(cat => (
                                    <button key={cat} onClick={() => setActiveCategory(cat)} className={`px-4 py-1 text-sm font-medium rounded-md whitespace-nowrap ${activeCategory === cat ? 'bg-blue-500 text-white' : 'text-gray-300 hover:text-white'}`}>
                                        {cat}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {filteredTemplates.map(template => (
                            <div key={template.id} className="glass-pane p-6 rounded-2xl flex flex-col">
                                <h3 className="text-lg font-bold text-shadow">{template.title}</h3>
                                <p className="text-sm text-gray-300 mt-2 flex-grow text-shadow">{template.description}</p>
                                <div className="border-t border-white/20 mt-4 pt-4 flex justify-between items-center">
                                    <span className="text-sm font-semibold text-gray-400">{template.category}</span>
                                    <div className="flex gap-2">
                                        {template.files.docx && <DownloadButton url={template.files.docx} format="docx" />}
                                        {template.files.pdf && <DownloadButton url={template.files.pdf} format="pdf" />}
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </PageWrapper>
            );
        };

        // SupportPage Component
        const SupportPage = () => {
            const [activeTab, setActiveTab] = useState('assistant');

            const AssistantView = () => {
                const [chatHistory, setChatHistory] = useState([
                    { role: 'assistant', text: 'Hallo! Ich bin dein KI-Assistent für das Musikbusiness. Frag mich alles zu Veröffentlichungen, Marketing oder Branchen-Insights.' }
                ]);
                const [inputValue, setInputValue] = useState('');
                const [isLoading, setIsLoading] = useState(false);
                const chatEndRef = useRef(null);

                useEffect(() => {
                    chatEndRef.current?.scrollIntoView({ behavior: "smooth" });
                }, [chatHistory]);

                const handleSendMessage = async (e) => {
                    e.preventDefault();
                    if (!inputValue.trim() || isLoading) return;

                    const userMessage = { role: 'user', text: inputValue };
                    setChatHistory(prev => [...prev, userMessage]);
                    setInputValue('');
                    setIsLoading(true);

                    // Demo-Antwort nach kurzer Verzögerung
                    setTimeout(() => {
                        const demoResponses = [
                            "Das ist eine interessante Frage! Für Musikmarketing empfehle ich: 1) Zielgruppe definieren, 2) Social Media nutzen, 3) Collaborations eingehen.",
                            "Streaming-Plattformen sind wichtig für die Reichweite. Spotify, Apple Music und YouTube Music sollten Priorität haben.",
                            "Für erfolgreiche Veröffentlichungen: Plane mindestens 6-8 Wochen im Voraus und erstelle einen detaillierten Marketing-Plan.",
                            "Bei Live-Auftritten ist die Setlist entscheidend. Mixe bekannte Songs mit neuen Tracks für die beste Audience-Response."
                        ];
                        
                        const randomResponse = demoResponses[Math.floor(Math.random() * demoResponses.length)];
                        setChatHistory(prev => [...prev, { role: 'assistant', text: randomResponse }]);
                        setIsLoading(false);
                    }, 1500);
                };

                return (
                    <div className="flex flex-col h-[70vh] glass-pane rounded-2xl">
                        <div className="flex-grow p-6 overflow-y-auto">
                            <div className="space-y-4">
                                {chatHistory.map((msg, index) => (
                                    <div key={index} className={`flex items-start gap-3 ${msg.role === 'user' ? 'justify-end' : ''}`}>
                                        {msg.role === 'assistant' && <div className="w-8 h-8 rounded-full bg-blue-500 flex-shrink-0"></div>}
                                        <div className={`max-w-full sm:max-w-xl p-3 rounded-lg ${msg.role === 'user' ? 'bg-blue-500 text-white' : 'bg-white/10 text-gray-200'}`}>
                                            <p className="text-sm whitespace-pre-wrap text-shadow">{msg.text}</p>
                                        </div>
                                    </div>
                                ))}
                                {isLoading && (
                                    <div className="flex items-start gap-3">
                                        <div className="w-8 h-8 rounded-full bg-blue-500"></div>
                                        <div className="max-w-md p-3 rounded-lg bg-white/10 flex items-center space-x-1">
                                            <div className="w-2 h-2 bg-gray-300 rounded-full animate-pulse"></div>
                                            <div className="w-2 h-2 bg-gray-300 rounded-full animate-pulse"></div>
                                            <div className="w-2 h-2 bg-gray-300 rounded-full animate-pulse"></div>
                                        </div>
                                    </div>
                                )}
                                <div ref={chatEndRef} />
                            </div>
                        </div>
                        <form onSubmit={handleSendMessage} className="p-4 border-t border-white/20 flex items-center gap-3">
                            <input type="text" value={inputValue} onChange={(e) => setInputValue(e.target.value)} placeholder="Stelle eine Frage..." className="w-full px-4 py-2 border border-white/20 rounded-full bg-white/10 text-white placeholder-gray-400" disabled={isLoading} />
                            <button type="submit" className="bg-blue-500 text-white p-3 rounded-full disabled:bg-blue-400/50" disabled={isLoading}>
                                <Icon name="send" className="w-5 h-5" />
                            </button>
                        </form>
                    </div>
                );
            };

            return (
                <PageWrapper>
                    <header className="text-center mb-8">
                        <h1 className="text-3xl sm:text-4xl font-bold text-shadow">Support Hub</h1>
                        <p className="text-lg text-gray-300 mt-2 text-shadow">Finde Antworten oder frage unseren KI-Assistenten.</p>
                    </header>
                    <div className="flex justify-center mb-6">
                        <div className="glass-pane p-1 rounded-full flex">
                            <button onClick={() => setActiveTab('kb')} className={`px-4 py-2 text-sm font-medium rounded-full ${activeTab === 'kb' ? 'bg-white/20' : ''}`}>
                                Wissensdatenbank
                            </button>
                            <button onClick={() => setActiveTab('assistant')} className={`px-4 py-2 text-sm font-medium rounded-full ${activeTab === 'assistant' ? 'bg-white/20' : ''}`}>
                                KI-Assistent
                            </button>
                        </div>
                    </div>
                    <AssistantView />
                </PageWrapper>
            );
        };

        // LearningCenter Component
        const LearningCenter = () => {
            const [paths, setPaths] = useState([]);
            const [selectedPath, setSelectedPath] = useState(null);
            
            useEffect(() => { setPaths(mockLearningPaths); }, []);

            if (selectedPath) {
                return (
                    <PageWrapper>
                        <button onClick={() => setSelectedPath(null)} className="flex items-center gap-2 text-sm mb-4 text-gray-300 hover:text-white">
                            <Icon name="arrowLeft" className="w-4 h-4" /> Zurück
                        </button>
                        <h2 className="text-2xl font-bold text-shadow">{selectedPath.title}</h2>
                        <div className="my-6">
                            <div className="w-full bg-white/20 rounded-full h-2.5">
                                <div className="bg-blue-500 h-2.5 rounded-full" style={{ width: '75%' }}></div>
                            </div>
                        </div>
                        <div className="glass-pane p-6 rounded-2xl">
                            <h3 className="font-bold mb-4 text-shadow">Module</h3>
                            <div className="space-y-3">
                                {selectedPath.modules.map(module => (
                                    <div key={module.id} className="flex items-center gap-3 p-3 bg-white/10 rounded-lg">
                                        <Icon name="checkCircle" className="w-5 h-5 text-green-400" />
                                        <Icon name="playCircle" className="w-5 h-5" />
                                        <span>{module.title}</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </PageWrapper>
                );
            }

            return (
                <PageWrapper>
                    <header className="text-center mb-8">
                        <h1 className="text-3xl sm:text-4xl font-bold text-shadow">Learning Center</h1>
                        <p className="text-lg text-gray-300 mt-2 text-shadow">Wähle deinen Lernpfad.</p>
                    </header>
                    <div className="space-y-4">
                        {paths.map(path => (
                            <button key={path.id} onClick={() => setSelectedPath(path)} className="w-full text-left p-6 glass-pane rounded-2xl shadow-md hover:bg-white/20 transition">
                                <span className="bg-blue-500/50 text-blue-100 text-xs font-semibold px-2.5 py-0.5 rounded-full mb-2 inline-block">{path.targetRole}</span>
                                <h3 className="text-xl font-bold text-shadow">{path.title}</h3>
                                <p className="text-gray-300 mt-1 text-shadow">{path.description}</p>
                            </button>
                        ))}
                    </div>
                </PageWrapper>
            );
        };

        // ComplyCheckPage Component
        const ComplyCheckPage = ({ onTestComplete }) => {
            const [activeTool, setActiveTool] = useState(null);

            const DsgvoSelfTest = () => {
                const [answers, setAnswers] = useState({});
                const [isFinished, setIsFinished] = useState(false);
                
                const handleAnswer = (qId, answer) => setAnswers(prev => ({ ...prev, [qId]: answer }));
                const score = Object.values(answers).filter(Boolean).length;

                const handleFinish = () => {
                    setIsFinished(true);
                    onTestComplete(`${score} / ${dsgvoQuestions.length}`);
                };

                return (
                    <div className="glass-pane p-6 rounded-2xl">
                        <h3 className="text-xl font-bold mb-4 text-shadow">DSGVO-Selbsttest</h3>
                        {!isFinished ? (
                            <div>
                                <div className="space-y-6">
                                    {dsgvoQuestions.map(q => (
                                        <div key={q.id}>
                                            <p className="font-semibold mb-2 text-shadow">{q.text}</p>
                                            <div className="flex gap-4">
                                                <button onClick={() => handleAnswer(q.id, true)} className={`flex items-center gap-2 p-2 rounded-lg border-2 ${answers[q.id] === true ? 'border-green-400 bg-green-500/20' : 'border-white/20'}`}>
                                                    <Icon name="check" className="w-5 h-5 text-green-400" /> Ja
                                                </button>
                                                <button onClick={() => handleAnswer(q.id, false)} className={`flex items-center gap-2 p-2 rounded-lg border-2 ${answers[q.id] === false ? 'border-red-400 bg-red-500/20' : 'border-white/20'}`}>
                                                    <Icon name="x" className="w-5 h-5 text-red-400" /> Nein
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                                <button onClick={handleFinish} disabled={Object.keys(answers).length !== dsgvoQuestions.length} className="mt-8 w-full p-3 bg-blue-500 text-white rounded-lg disabled:bg-gray-500">
                                    Auswertung
                                </button>
                            </div>
                        ) : (
                            <div className="text-center">
                                <h4 className="text-lg font-bold text-shadow">Ergebnis</h4>
                                <p className="text-5xl font-bold my-4 text-shadow">{score} / {dsgvoQuestions.length}</p>
                                <button onClick={() => { setIsFinished(false); setAnswers({}); }} className="mt-6 text-blue-400">
                                    Wiederholen
                                </button>
                            </div>
                        )}
                    </div>
                );
            };

            if (activeTool === 'dsgvo') {
                return (
                    <PageWrapper>
                        <button onClick={() => setActiveTool(null)} className="mb-4 flex items-center gap-1 text-gray-300 hover:text-white">
                            <Icon name="arrowLeft" className="w-4 h-4" /> Zurück
                        </button>
                        <DsgvoSelfTest />
                    </PageWrapper>
                );
            }

            return (
                <PageWrapper>
                    <header className="text-center mb-8">
                        <h1 className="text-3xl sm:text-4xl font-bold text-shadow">ComplyCheck</h1>
                        <p className="text-lg text-gray-300 mt-2 text-shadow">Tools für deine DSGVO-Compliance.</p>
                    </header>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <button onClick={() => setActiveTool('dsgvo')} className="glass-pane p-8 text-left rounded-2xl shadow-md hover:bg-white/20 transition">
                            <Icon name="shieldCheck" className="w-10 h-10 text-blue-300 mb-4" />
                            <h2 className="text-xl font-bold text-shadow">DSGVO-Selbsttest</h2>
                        </button>
                    </div>
                </PageWrapper>
            );
        };

        // ProfilePage Component
        const ProfilePage = ({ setActivePage }) => {
            const { user } = useAuth();
            const [displayName, setDisplayName] = useState(user?.displayName || '');
            const [message, setMessage] = useState('');

            const handleProfileUpdate = async (e) => {
                e.preventDefault();
                try {
                    if (window.firebase && window.firebase.updateProfile) {
                        await window.firebase.updateProfile(window.firebase.auth.currentUser, { displayName });
                        setMessage('Profil erfolgreich aktualisiert!');
                    }
                } catch (error) {
                    setMessage(`Fehler: ${error.message}`);
                }
            };

            return (
                <PageWrapper>
                    <h1 className="text-3xl sm:text-4xl font-bold mb-8 text-shadow">Dein Profil</h1>
                    {message && <p className="mb-4 p-3 glass-pane rounded-lg text-center text-shadow">{message}</p>}
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div className="glass-pane p-6 rounded-2xl">
                            <h2 className="text-2xl font-bold mb-4 text-shadow">Profilinformationen</h2>
                            <form onSubmit={handleProfileUpdate} className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-2">Anzeigename</label>
                                    <input type="text" value={displayName} onChange={e => setDisplayName(e.target.value)} className="w-full p-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-gray-400" />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-2">E-Mail</label>
                                    <p className="mt-1 text-shadow">{user?.email}</p>
                                </div>
                                <button type="submit" className="w-full p-2 bg-blue-500 text-white rounded-lg font-bold">Speichern</button>
                            </form>
                        </div>
                    </div>
                </PageWrapper>
            );
        };

        // --- APP COMPONENT ---
        
        // Final App Component mit Error-Boundaries
        const App = () => {
            const [activeAuthPage, setActiveAuthPage] = useState('landing');
            const [appInitialized, setAppInitialized] = useState(false);

            useEffect(() => {
                // App-Initialisierung mit Timeout
                const initTimer = setTimeout(() => {
                    console.log('✅ App initialization complete');
                    setAppInitialized(true);
                }, 1000);

                return () => clearTimeout(initTimer);
            }, []);

            // Loading Screen
            if (!appInitialized) {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-900 via-indigo-800 to-purple-900">
                        <div className="glass-pane p-8 rounded-2xl text-center">
                            <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"></div>
                            <p className="text-white text-lg font-semibold">Musik-Plattform wird geladen...</p>
                        </div>
                    </div>
                );
            }

            return (
                <ErrorBoundary>
                    <AuthProvider>
                        <AppContent 
                            activeAuthPage={activeAuthPage} 
                            setActiveAuthPage={setActiveAuthPage} 
                        />
                    </AuthProvider>
                </ErrorBoundary>
            );
        };

        // App Content Handler
        const AppContent = ({ activeAuthPage, setActiveAuthPage }) => {
            const { user } = useAuth();

            const handleLogin = (userData) => {
                console.log('✅ User logged in:', userData);
                setActiveAuthPage('app');
            };

            const handleRegister = (userData) => {
                console.log('✅ User registered:', userData);
                setActiveAuthPage('app');
            };

            // Bestimme welche Seite angezeigt werden soll
            if (user || activeAuthPage === 'app') {
                return <MainApp />;
            }

            switch (activeAuthPage) {
                case 'login':
                    return <LoginPage onLogin={handleLogin} setActiveAuthPage={setActiveAuthPage} />;
                case 'register':
                    return <RegisterPage onRegister={handleRegister} setActiveAuthPage={setActiveAuthPage} />;
                default:
                    return <LandingPage setActiveAuthPage={setActiveAuthPage} />;
            }
        };

        // --- RENDER APP ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        
        // Sichere App-Renderung mit Fallback
        try {
            root.render(<App />);
            console.log('🚀 App successfully rendered');
        } catch (error) {
            console.error('🚨 Critical render error:', error);
            
            // Emergency Fallback
            document.getElementById('root').innerHTML = `
                <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 50%, #7c3aed 100%); color: white; font-family: system-ui;">
                    <div style="background: rgba(255,255,255,0.1); padding: 2rem; border-radius: 1rem; text-align: center; max-width: 400px;">
                        <h1>🚨 Kritischer Fehler</h1>
                        <p>Die Anwendung konnte nicht geladen werden.</p>
                        <div style="margin-top: 1rem;">
                            <a href="demo.html" style="background: #3b82f6; color: white; padding: 0.5rem 1rem; border-radius: 0.5rem; text-decoration: none; margin-right: 0.5rem;">Demo öffnen</a>
                            <a href="emergency.html" style="background: #6b7280; color: white; padding: 0.5rem 1rem; border-radius: 0.5rem; text-decoration: none;">Notfallmodus</a>
                        </div>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
cd /workspaces/meine-musik-plattform
chmod +x run-npm.sh
./run-npm.shcd /workspaces/meine-musik-plattform
npm install && npm start